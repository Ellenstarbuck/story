(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{36:function(e,a,t){e.exports=t(69)},41:function(e,a,t){},42:function(e,a,t){},69:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(32),l=t.n(s),c=(t(41),t(42),t(43),t(8)),i=t(16),o=function(){return r.a.createElement("section",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("p",{className:"title is-1 has-text-centered"}))))},m=t(1),u=t.n(m),d=t(4),h=t(2),p=t(3),v=t(6),b=t(7),f=t(5),E=t.n(f),g=t(10),y=function(e){var a=e.title,t=e.age_rating,n=e.image,s=e.lineStart,l=e.id;return r.a.createElement("div",{key:l,className:"column is-one-quarter-desktop is-one-third-tablet is-half-mobile"},r.a.createElement(c.b,{to:"/storys/".concat(l)},r.a.createElement("div",{className:"card",id:"storyCard"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-header-title",id:"titleFont"},a),r.a.createElement("div",{className:"card-image"},r.a.createElement("figure",{className:"image is-5by4",id:"storycardImage"},r.a.createElement("img",{src:n,alt:a}))),r.a.createElement("div",null,"\xa0"),r.a.createElement("h5",Object(g.a)({className:"title is-6"},"className","inspirationFont"),"For ages ",r.a.createElement("strong",null,t," and above")),r.a.createElement("div",{className:"indexHide"},r.a.createElement("h5",{className:"title is-6"},"First Line: ",r.a.createElement("strong",null,s)))))))},N=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,this.setState({storys:a.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.props.history.push("/notfound");case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return this.state.storys.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyIndex"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))}))))))):null}}]),t}(r.a.Component),k=t(13),w=function(){function e(){Object(h.a)(this,e)}return Object(p.a)(e,null,[{key:"setToken",value:function(e){localStorage.setItem("token",e)}},{key:"getToken",value:function(){return localStorage.getItem("token")}},{key:"logout",value:function(){localStorage.removeItem("token")}},{key:"getPayLoad",value:function(){var e=this.getToken();if(!e)return!1;var a=e.split(".");return!(a.length<3)&&JSON.parse(atob(a[1]))}},{key:"isAuthenticated",value:function(){var e=this.getPayLoad();return!!e&&Math.round(Date.now()/1e3)<e.exp}}]),e}(),j=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={story:null,lines:{}},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value,s=Object(k.a)({},e.state.lines,Object(g.a)({},n,r));e.setState({lines:s})},e.handleDelete=Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.props.match.params.id,a.prev=1,a.next=4,E.a.delete("/api/storys/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 4:e.props.history.push("/storys"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),e.props.history.push("/notfound");case 10:case"end":return a.stop()}}),a,null,[[1,7]])}))),e.handleSubmit=function(){var a=Object(d.a)(u.a.mark((function a(t){var n,r;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=e.props.match.params.id,a.prev=1,a.next=4,E.a.post("/api/storys/".concat(n,"/lines/"),e.state.lines,{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 4:r=a.sent,e.props.history.push("/storys/".concat(r.data.id)),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(1),e.props.history.push("/notfound");case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e){return a.apply(this,arguments)}}(),e.isOwner=function(){return w.getPayLoad().sub===e.state.story.owner.id},e.canEdit=function(){var a=e.state.story.lines;try{return(0!==a.length||!e.isOwner())&&w.getPayLoad().sub!==a[a.length-1].owner.id}catch(t){return!0}},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,E.a.get("/api/storys/".concat(a,"/"));case 4:t=e.sent,this.setState({story:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.props.history.push("/notfound");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.story;return e?r.a.createElement("section",{className:"hero isPrimary"},r.a.createElement("section",{className:"section",id:"paddingStoryShow"},r.a.createElement("div",{className:"cardTitle"},r.a.createElement("h2",{className:"titleTitle"},e.title))),r.a.createElement("div",{className:"storyShow"},r.a.createElement("br",null),r.a.createElement("div",{className:"colums"},r.a.createElement("div",{className:"displayNice"},r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("figure",{className:"image is-5by4",id:"imageShow"},r.a.createElement("img",{src:e.image,alt:e.title})),r.a.createElement("div",{className:"box"},r.a.createElement("h4",{className:"title-is-4"},r.a.createElement("strong",null,"Writer: ")," ",e.owner.username),r.a.createElement("h4",{className:"title-is-4"},r.a.createElement("strong",null,"Age-rating: "),e.age_rating),r.a.createElement("h4",{className:"title-is-4"},r.a.createElement("strong",null,"Type of story:")," ",e.genre))),r.a.createElement("div",{className:"column is-one-third"},r.a.createElement("h4",{className:"title-is-4"},r.a.createElement("strong",null,"The Story Begins...")),r.a.createElement("br",null),r.a.createElement("p",null,r.a.createElement("strong",null,e.lineStart,e.lines.map((function(e){return r.a.createElement(r.a.Fragment,null,"\xa0",e.line)})))),r.a.createElement("br",null),r.a.createElement("div",{className:"field"},this.canEdit()&&w.isAuthenticated()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"line",required:!0,placeholder:"What happens next?",onChange:this.handleChange,value:e.line})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"button is-danger"},"Add a line"))),!this.canEdit()&&r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("article",{className:"message is-danger"},r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Good job!"),r.a.createElement("button",{className:"delete","aria-label":"delete"})),r.a.createElement("div",{className:"message-body"},r.a.createElement("strong",null,"Let's wait for the other user to add a line! Why don't you check out some ",r.a.createElement("a",{href:"/storys"},"more stories")))))),!w.isAuthenticated()&&r.a.createElement("div",{className:"message-header"},r.a.createElement("p",null,"Please log in to add a line to the story")),this.isOwner()&&r.a.createElement(r.a.Fragment,null,r.a.createElement(c.b,{to:"/storys/".concat(e.id,"/edit"),className:"button is-warning"},"Edit Story"),r.a.createElement("button",{onClick:this.handleDelete,className:"button is-danger"},"Delete Story"))),r.a.createElement("div",null))))):null}}]),t}(r.a.Component),O=function(e){var a=e.data,t=e.handleChange,n=e.handleSubmit,s=e.handleUpload,l=e.handleClick,c=e.choices;return r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:n,className:"column is-half is-offset-one-quarter"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Title"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"title",required:!0,placeholder:"Title",onChange:t,value:a.title}))),r.a.createElement("label",{className:"label"},"Age Rating"),r.a.createElement("div",{className:"d_form"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",placeholder:"Enter a number between 8 - 12",type:"number",max:"12",value:a.age_rating,required:!0,min:"8",name:"age_rating",onChange:t}))),r.a.createElement("p",null,"\xa0"),r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Need an idea for your story? Click below"),r.a.createElement("button",{onClick:l,className:"button"},"Inspiration button"),r.a.createElement("h2",null,"Write a story about ",c)),r.a.createElement("p",null,"\xa0"),r.a.createElement("label",{className:"label"},"Write the first line of your story"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"lineStart",required:!0,placeholder:"First Line",onChange:t,value:a.lineStart}))),r.a.createElement("p",null,"\xa0"),a.image?r.a.createElement("div",null,r.a.createElement("img",{src:a.image})):r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"label"},"Please upload a photo for your story"),r.a.createElement("input",{className:"image",type:"file",onChange:s})),r.a.createElement("p",null,"\xa0"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"What kind of story is it?"),r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"genre",onChange:t,value:a.genre},r.a.createElement("option",{disabled:!0,value:""},"Pick a type"),r.a.createElement("option",{value:"magic"},"Magic"),r.a.createElement("option",{value:"spooky"},"Spooky"),r.a.createElement("option",{value:"funny"},"Funny"),r.a.createElement("option",{value:"funny"},"Cute"),r.a.createElement("option",{value:"funny"},"Internet"),r.a.createElement("option",{value:"funny"},"Space")))),r.a.createElement("div",{className:"field"},r.a.createElement("button",{type:"submit",className:"button is-fullwidth is-warning"},"Add my story to the collection!")))))},A=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{title:"",age_rating:"",image:null,lineStart:"",genre:"",owner:""},choices:""},e.choiceArray=["a spooky boot","an alien making dinner","your favourite food","a giant mouse","your favourite singer","your favourite film","a forgetful otter","a unexpected telephone call","a scary dream","a secret door","your best friend","a secret loft","squirrels taking over the world","being a pop star","dancing in the rain","a secret","a funny memory","the best cheese","a noisy thunderstorm","monsters under the bed"],e.handleClick=function(a){a.preventDefault();var t=e.choiceArray[Math.floor(Math.random()*e.choiceArray.length)];e.setState({choices:t})},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value,s=Object(k.a)({},e.state.data,Object(g.a)({},n,r));e.setState({data:s})},e.handleSubmit=function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,console.log(e.state.data),a.next=5,E.a.post("/api/storys/",e.state.data,{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 5:n=a.sent,e.props.history.push("/storys/".concat(n.data.id)),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),e.props.history.push("/notfound");case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),e.handleUpload=function(){var a=Object(d.a)(u.a.mark((function a(t){var n,r,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=t.target.files,(r=new FormData).append("file",n[0]),r.append("upload_preset","rksde5wr"),a.next=6,E.a.post(" https://api.cloudinary.com/v1_1/dbpx50jcj/image/upload",r);case 6:s=a.sent,console.log(s),e.setState({image:s.data.url},(function(){e.handleChange({target:{name:"image",value:s.data.url}})}));case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),e}return Object(p.a)(t,[{key:"render",value:function(){return console.log(this.state.choices),r.a.createElement("div",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"newstorybg"},r.a.createElement("div",{className:"container"},r.a.createElement(O,{data:this.state.data,choices:this.state.choices,handleChange:this.handleChange,handleSubmit:this.handleSubmit,handleUpload:this.handleUpload,handleClick:this.handleClick})))))}}]),t}(r.a.Component),x=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{title:"",age_rating:"",image:"",lineStart:"",genre:""}},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value,s=Object(k.a)({},e.state.data,Object(g.a)({},n,r));console.log(s),e.setState({data:s})},e.handleSubmit=function(){var a=Object(d.a)(u.a.mark((function a(t){var n,r,s;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=e.props.match.params.id,a.prev=2,a.next=5,E.a.put("/api/storys/".concat(n,"/"),e.state.data,{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 5:r=a.sent,s=r.data,e.props.history.push("/storys/".concat(s.id)),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),e.props.history.push("/notfound");case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,E.a.get("/api/storys/".concat(a,"/"));case 4:t=e.sent,this.setState({data:t.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),this.props.history.push("/notfound");case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement(O,{data:this.state.data,handleChange:this.handleChange,handleSubmit:this.handleSubmit})))}}]),t}(r.a.Component),C=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,console.log(a.data),t=a.data.filter((function(e){if("Magic"===e.genre)return e})),this.setState({storys:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("i am returning...",this.state.storys),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyIndex"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))})))))))}}]),t}(r.a.Component),S=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,console.log(a.data),t=a.data.filter((function(e){if("Cute"===e.genre)return e})),this.setState({storys:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("i am returning...",this.state.storys),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyIndex"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))})))))))}}]),t}(r.a.Component),_=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,console.log(a.data),t=a.data.filter((function(e){if("Funny"===e.genre)return e})),this.setState({storys:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return console.log("i am returning...",this.state.storys),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyIndex"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))})))))))}}]),t}(r.a.Component),F=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{username:"",email:"",password:"",password_confirmation:"",bio:"",first_name:"",last_name:""},errors:{}},e.handleChange=function(a){var t=Object(k.a)({},e.state.data,Object(g.a)({},a.target.name,a.target.value));console.log(e.state.data),e.setState({data:t})},e.handleSubmit=function(){var a=Object(d.a)(u.a.mark((function a(t){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,E.a.post("/api/register",e.state.data);case 4:e.props.history.push("/login"),a.next=11;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(e.state.errors),e.setState({errors:a.t0.response.data.errors});case 11:case"end":return a.stop()}}),a,null,[[1,7]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"isPrimary"},r.a.createElement("div",{className:"registerbg"},r.a.createElement("section",{className:"section"},r.a.createElement("section",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title has-text-centered"},r.a.createElement("strong",null,"Register")),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"First Name")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.first_name?"is-danger":""),placeholder:"First Name",required:!0,name:"first_name",onChange:this.handleChange})),this.state.errors.first_name&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.first_name)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"Last Name")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.last_name?"is-danger":""),placeholder:"Last Name",required:!0,name:"last_name",onChange:this.handleChange})),this.state.errors.last_name&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.last_name)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"Username")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.username?"is-danger":""),placeholder:"Username",required:!0,name:"username",onChange:this.handleChange})),this.state.errors.username&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.username)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"Email")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.email?"is-danger":""),placeholder:"Email",name:"email",required:!0,onChange:this.handleChange})),this.state.errors.email&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.email)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"Password")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.password?"is-danger":""),placeholder:"Password",type:"password",required:!0,name:"password",onChange:this.handleChange})),this.state.errors.password&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.password)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"Password Confirmation")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.password_confirmation?"is-danger":""),placeholder:"Password Confirmation",type:"password",required:!0,name:"password_confirmation",onChange:this.handleChange})),this.state.errors.password_confirmation&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.password_confirmation)),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"label"},r.a.createElement("strong",null,"About Me")),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input ".concat(this.state.errors.bio?"is-danger":""),placeholder:"A bit about me",name:"bio",onChange:this.handleChange})),this.state.errors.bio&&r.a.createElement("small",{className:"help is-danger"},this.state.errors.bio)),r.a.createElement("button",{type:"submit",className:"button is fullwidth is-warning"},"Register Me!")))))))}}]),t}(r.a.Component),M=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,console.log(a.data),t=a.data.filter((function(e){if("Internet"===e.genre)return e})),this.setState({storys:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyIndex"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))})))))))}}]),t}(r.a.Component),D=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,console.log(a.data),t=a.data.filter((function(e){if("Space"===e.genre)return e})),this.setState({storys:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"storyIndex"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))})))))))}}]),t}(r.a.Component),q=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={storys:[]},e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/api/storys/");case 3:a=e.sent,console.log(a.data),t=a.data.filter((function(e){if("Spooky"===e.genre)return e})),this.setState({storys:t}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"box",id:"storyShowBox"}),r.a.createElement("div",{className:"storyIndex"},r.a.createElement("div",{className:"genrebackground"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container is-primary"},r.a.createElement("div",{className:"columns is-mobile is-multiline"},this.state.storys.map((function(e){return r.a.createElement(y,Object.assign({key:e.id},e))}))))))))}}]),t}(r.a.Component),z=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{email:"",password:""},error:""},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value,s=Object(k.a)({},e.state.data,Object(g.a)({},n,r));e.setState({data:s,error:""})},e.handleSubmit=function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),a.prev=1,a.next=4,E.a.post("/api/login",e.state.data);case 4:n=a.sent,w.setToken(n.data.token),e.props.history.push("/storys"),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(1),e.setState({error:"Incorrect Credentials"});case 12:case"end":return a.stop()}}),a,null,[[1,9]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"isPrimary"},r.a.createElement("div",{className:"loginbg"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title"},"Login"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Email"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",required:!0,name:"email",placeholder:"Email",onChange:this.handleChange}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{className:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",type:"password",required:!0,name:"password",placeholder:"Password",onChange:this.handleChange}))),r.a.createElement("button",{type:"submit",className:"button is-warning-is-fullwidth"},"Login")))))))}}]),t}(r.a.Component),P=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={navbarOpen:!1},e.toggleNavbar=function(){e.setState({navbarOpen:!e.state.navbarOpen})},e.handleLogout=function(){w.logout(),e.props.history.push("/")},e}return Object(p.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location.pathname!==e.location.pathname&&this.setState({navbarOpen:!1})}},{key:"render",value:function(){var e=this.state.navbarOpen;return r.a.createElement("nav",{className:"navbar is-danger"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(c.b,{className:"navbar-item",to:"/"},"Home"),r.a.createElement(c.b,{className:"navbar-item",to:"/about"},"How does this work?"),r.a.createElement("a",{className:"navbar-burger ".concat(e?"is-active":""),onClick:this.toggleNavbar},r.a.createElement("span",null),r.a.createElement("span",null),r.a.createElement("span",null))),r.a.createElement("div",{className:"navbar-menu ".concat(e?"is-active":"")},r.a.createElement("div",{className:"navbar-end"},r.a.createElement(c.b,{className:"navbar-item",to:"/storys"},"The Storys"),r.a.createElement("nav",{className:"navbar is-danger",role:"navigation","aria-label":"dropdown navigation"},r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement("div",{className:"navbar-link"},"Types of Storys"),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement(c.b,{className:"navbar-item",to:"/magic"},"Magic"),r.a.createElement(c.b,{className:"navbar-item",to:"/spooky"},"Spooky"),r.a.createElement(c.b,{className:"navbar-item",to:"/funny"},"Funny"),r.a.createElement(c.b,{className:"navbar-item",to:"/cute"},"Cute"),r.a.createElement(c.b,{className:"navbar-item",to:"/internet"},"Internet"),r.a.createElement(c.b,{className:"navbar-item",to:"/space"},"Space")))),!w.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/register"},"Register"),!w.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/login"},"Login"),w.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/storys/new"},"Add a Story"),w.isAuthenticated()&&r.a.createElement(c.b,{className:"navbar-item",to:"/profile"},"View your profile"),w.isAuthenticated()&&r.a.createElement("a",{onClick:this.handleLogout,className:"navbar-item"},"Logout")))))}}]),t}(r.a.Component),T=Object(i.g)(P),I=(t(67),function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{id:"",first_name:"",last_name:"",username:"",bio:"",storys:[]}},e.handleDelete=Object(d.a)(u.a.mark((function a(){var t;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.state.data.id,a.prev=1,a.next=4,E.a.delete("/api/profile/".concat(t,"/"),{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 4:e.props.history.push("/storys"),a.next=10;break;case 7:a.prev=7,a.t0=a.catch(1),console.log(a.t0.response);case 10:case"end":return a.stop()}}),a,null,[[1,7]])}))),e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.state.data.id,console.log(a),e.prev=2,e.next=5,E.a.get("/api/profile",{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 5:t=e.sent,this.setState({data:t.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data,a=this.state.data.storys[0];return console.log(a),r.a.createElement("div",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("div",{className:"profilebg"},r.a.createElement("section",{className:"section"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-half is-offset-one-quarter"},r.a.createElement("h2",{className:"title is-3"},"\xa0",e.username,"'s profile"),r.a.createElement("hr",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("h2",{className:"is-size-4"},r.a.createElement("strong",null,"A bit about you")),r.a.createElement("h2",{className:"is-size-5"},"My name is ",e.first_name,"\xa0",e.last_name," and ",e.bio),r.a.createElement("div",null,"\xa0"))),r.a.createElement("hr",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("h2",{className:"is-size-4"},r.a.createElement("strong",null,"Created Storys")),r.a.createElement("div",{className:"box",id:"boxBackground"},e.storys&&0===e.storys.length&&r.a.createElement("p",{className:"subtitle is-5",id:"linkFont"},r.a.createElement(c.b,{to:"/storys/new"},"Make a story")),e.storys&&e.storys.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(c.b,{to:"/storys/".concat(e.id,"/")},r.a.createElement("p",null,e.title)))})))),r.a.createElement("hr",null),r.a.createElement(c.b,{to:"/profile/".concat(e.id,"/edit"),className:"button is-warning"},"Edit Profile"),r.a.createElement("button",{onClick:this.handleDelete,className:"button is-danger"},"Delete Profile"))))))))}}]),t}(r.a.Component)),B=t(35),L=function(e){var a=e.component,t=Object(B.a)(e,["component"]);return w.isAuthenticated()?r.a.createElement(i.b,Object.assign({},t,{component:a})):(w.logout(),r.a.createElement(i.a,{to:"/login"}))},W=(t(68),function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{beginning:"",subject:"",middle:"",end:""}},e.handleClick=function(a){a.preventDefault(),e.beginningFunction(),e.subjectFunction(),e.middleFunction(),e.endFunction()},e.beginningArray=["A busy","A lazy","A careless","A clumsy","A nimble","A brave","A mighty","A meek","A clever","A dull","A afraid","A scared","A cowardly","A bashful","A proud","A fair","A greedy","A wise","A foolish","A tricky","A truthful","A loyal","A happy","A cheerful","A joyful","A carefree","A friendly","A moody","A crabby","A cranky","A awful","A gloomy","A angry","A worried","A excited","A bored","A silly","A sleepy"],e.subjectArray=["cat","dog","dragon","minion","apple","car","kitten","spider","pig","horse","mouse","pizza","monster","mum","dad","grandad","grandma","teacher","lady","man","boy","girl","dancer","doctor","scientist","king","queen","Godzilla","ostrich","bear","puppy","prime-minister","pizza"],e.middleArray=["went to the zoo","went to the cinema","ate lots of cakes","danced in the rain","found a secret door","went to America","had a big pie","had a bath in jelly","had a bath in beans","went to Disney land","fell asleep","did a little fart","did a big fart","read a great book","told a funny joke"],e.endArray=["and was arrested.","and threw up.","and everyone laughed.","and took over the world.","and lived happily ever after.","and went home and had a nap.","and wrote a book about it.","and sang a song about it.","and won an award.","and felt hungry.","and threw a party.","and didn't tell anyone.","and told everyone."],e}return Object(p.a)(t,[{key:"beginningFunction",value:function(){var e=this.beginningArray[Math.floor(Math.random()*this.beginningArray.length)];return this.setState({beginning:e})}},{key:"subjectFunction",value:function(){var e=this.subjectArray[Math.floor(Math.random()*this.subjectArray.length)];return this.setState({subject:e})}},{key:"middleFunction",value:function(){var e=this.middleArray[Math.floor(Math.random()*this.middleArray.length)];return this.setState({middle:e})}},{key:"endFunction",value:function(){var e=this.endArray[Math.floor(Math.random()*this.endArray.length)];return this.setState({end:e})}},{key:"render",value:function(){return r.a.createElement("div",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("div",{className:"aboutus"},r.a.createElement("section",{className:"AboutPage"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column is-half is-offset-one-third"},r.a.createElement("br",null),r.a.createElement("div",{className:"card",id:"aboutBox"},r.a.createElement("br",null),r.a.createElement("h1",null,r.a.createElement("strong",null,"Story telling is fun!")),r.a.createElement("br",null),r.a.createElement("h2",null,"We like making up stories. And this site is really easy to use.",r.a.createElement("ul",null,r.a.createElement("li",null,"1. Register and pick an awesome username"),r.a.createElement("li",null,"2. Login to use the site."),r.a.createElement("li",null,"3. Have a snack"),r.a.createElement("li",null,"4. Look at a story someone else has made, and add a line. Or make up your own story! "))," "),r.a.createElement("br",null),r.a.createElement("h1",null,"Need some inspiration? Why not try out our random story generator. Click the button below and a story will appear."),r.a.createElement("br",null),r.a.createElement("button",{onClick:this.handleClick,id:"storybox",className:"button is-warning"},"Story Button"),r.a.createElement("br",null)),r.a.createElement("div",{className:"card",id:"generatorBox"},r.a.createElement("h4",null,r.a.createElement("strong",null,this.state.beginning," ",this.state.subject," ",this.state.middle," ",this.state.end))))))))}}]),t}(r.a.Component)),U=function(e){Object(b.a)(t,e);var a=Object(v.a)(t);function t(){var e;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=a.call.apply(a,[this].concat(r))).state={data:{id:"",username:"",profile_image:"",bio:""}},e.handleChange=function(a){var t=a.target,n=t.name,r=t.value,s=Object(k.a)({},e.state.data,Object(g.a)({},n,r));console.log(s),e.setState({data:s})},e.handleSubmit=function(){var a=Object(d.a)(u.a.mark((function a(t){var n;return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),n=e.state.data.id,a.prev=2,a.next=5,E.a.put("/api/profile/".concat(n,"/"),e.state.data,{headers:{Authorization:"Bearer ".concat(w.getToken())}});case 5:e.props.history.push("/profile"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}(),e}return Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.prev=1,e.next=4,E.a.get("/api/profile/".concat(a,"/"));case 4:t=e.sent,this.setState({data:t.data}),console.log(t.data),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data;return r.a.createElement("div",{className:"box",id:"profileBox"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"column is-mobile is-multiline"},r.a.createElement("section",{className:"section",id:"profileSection"},r.a.createElement("div",{className:"level"},r.a.createElement("div",{className:"level-left"},r.a.createElement("div",{className:"level-item"},r.a.createElement("span",{className:"icon is-large"},r.a.createElement("i",{className:"fas fa-3x fa-map-marked-alt"})),r.a.createElement("div",{className:"field"},r.a.createElement("h2",{className:" title is-3"},"\xa0",e.username,"'s profile"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"username",required:!0,placeholder:"username",onChange:this.handleChange,value:e.username}))),r.a.createElement("span",{className:"icon is-large"},r.a.createElement("i",{className:"fas fa-3x fa-map-marked-alt"}))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("h2",{className:"is-size-4"},e.profile_image),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"profile_image",required:!0,placeholder:"profile_image",onChange:this.handleChange,value:e.profile_image}))))),r.a.createElement("hr",null),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"box"},r.a.createElement("div",{className:"field"},r.a.createElement("h2",{className:"is-size-4"},"Bio"),r.a.createElement("h2",{className:"is-size-4"},e.bio),r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"bio",required:!0,placeholder:"bio",onChange:this.handleChange,value:e.bio}))))),r.a.createElement("button",{type:"submit",className:"button is-fullwidth is-warning"},"Update my profile!"))))}}]),t}(r.a.Component),R=function(){return r.a.createElement("section",{className:"hero is-fullheight-with-navbar is-primary"},r.a.createElement("div",{className:"hero-body",id:"errorImage"},r.a.createElement("div",{className:"container"})))},H=function(){return r.a.createElement("main",null,r.a.createElement(c.a,null,r.a.createElement(T,null),r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:o}),r.a.createElement(L,{path:"/storys/:id/edit",component:x}),r.a.createElement(L,{path:"/storys/new",component:A}),r.a.createElement(i.b,{path:"/storys/:id",component:j}),r.a.createElement(L,{path:"/profile/:id/edit",component:U}),r.a.createElement(i.b,{path:"/storys",component:N}),r.a.createElement(i.b,{path:"/magic",component:C}),r.a.createElement(i.b,{path:"/cute",component:S}),r.a.createElement(i.b,{path:"/funny",component:_}),r.a.createElement(i.b,{path:"/internet",component:M}),r.a.createElement(i.b,{path:"/space",component:D}),r.a.createElement(i.b,{path:"/spooky",component:q}),r.a.createElement(i.b,{path:"/register",component:F}),r.a.createElement(i.b,{path:"/login",component:z}),r.a.createElement(L,{path:"/profile",component:I}),r.a.createElement(i.b,{path:"/about",component:W}),r.a.createElement(i.b,{path:"/*",component:R}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(H,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.1013feb8.chunk.js.map